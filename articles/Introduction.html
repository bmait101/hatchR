<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction • hatchR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hatchR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction to hatchR</h6></li>
    <li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/Parameterize_models.html">Parameterize hatchR Models</a></li>
    <li><a class="dropdown-item" href="../articles/Predict_phenology_basic.html">Predict fish phenology: basic</a></li>
    <li><a class="dropdown-item" href="../articles/Predict_spawning.html">Predict spawning</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced hatchR</h6></li>
    <li><a class="dropdown-item" href="../articles/Predict_phenology_advanced.html">Predict fish phenology: advanced</a></li>
    <li><a class="dropdown-item" href="../articles/Predict_phenology_nested.html">Predict fish phenology: nested</a></li>
    <li><a class="dropdown-item" href="../articles/Advanced_plotting.html">Advanced plotting</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Shiny App</h6></li>
    <li><a class="dropdown-item" href="../articles/Shiny_app.html">Launching Shiny</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other use cases</h6></li>
    <li><a class="dropdown-item" href="../articles/Non-fish.html">Non-fish examples</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Model Bibliography</h6></li>
    <li><a class="dropdown-item" href="../articles/Model_bibliography.html">Model bibliography</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bmait101/hatchR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction</h1>
                        <h4 data-toc-skip class="author">Morgan Sparks,
Bryan M. Maitland</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bmait101/hatchR/blob/master/vignettes/Introduction.Rmd" class="external-link"><code>vignettes/Introduction.Rmd</code></a></small>
      <div class="d-none name"><code>Introduction.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><strong>hatchR</strong> is an R package that allows users to predict
hatch and emergence timing for wild fishes, as well as additional tools
to aid in those analyses. <strong>hatchR</strong> is intended to bridge
the analytic gap of taking statistical models developed in hatchery
settings <span class="citation">(<em>e.g.</em>, Beacham and Murray
1990)</span> and applying them to real world temperature data sets using
the effective value framework developed by <span class="citation">Sparks
et al. (2019)</span>. <strong>hatchR</strong> is also available as an
interactive web application at <a href="https://elifelts.shinyapps.io/hatchR_demo/" class="external-link">https://elifelts.shinyapps.io/hatchR_demo/</a>.</p>
<p><strong>hatchR</strong> is designed to be flexible to achieve many
applications. However, by virtue of being built as a scripting
application, <strong>hatchR</strong> is able to tackle very large
datasets relatively quickly and efficiently. That is,
<strong>hatchR</strong> can be used to predict hatch and emergence
timing for many fish species across many locations and years. These type
of upstream analyses are covered in additional vignettes in this
package. In this introductory vignette, we:</p>
<ul>
<li>describes input data requirements</li>
<li>provide recommendations for importing data</li>
<li>review basic data checks</li>
<li>preview the full <strong>hatchR</strong> workflow covered in other
vignettes</li>
</ul>
<p>The generalized workflow for <strong>hatchR</strong>, including the
steps below and in subsequent other vignettes, is shown below.</p>
<p><img src="img/workflow.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="inputs">Input Data Requirements<a class="anchor" aria-label="anchor" href="#inputs"></a>
</h2>
<p><strong>hatchR</strong> requires three primary data inputs:</p>
<ol style="list-style-type: decimal">
<li>Water temperature data</li>
<li>Species-specific model parameters</li>
<li>Spawning date or date ranges</li>
</ol>
<div class="section level3">
<h3 id="water-temperature-data">Water Temperature Data<a class="anchor" aria-label="anchor" href="#water-temperature-data"></a>
</h3>
<p>Water temperature datasets for wild fishes are often either (1)
already summarized by day (i.e., mean daily temperature) or, (2) in a
raw format from something like a HOBO TidbiT data logger where readings
are taken multiple times per day, which can be summarized into a mean
daily temperatures. Alternatively, daily water temperature predictions
from novel statistical models <span class="citation">(<em>e.g.</em>,
Siegel et al. 2023)</span> could be similarly implemented.</p>
<p>Fundamentally, <strong>hatchR</strong> assumes you have input data
with two columns:</p>
<ol style="list-style-type: decimal">
<li>date: a vector of dates (and often times) of a temperature
measurement (must be class <code>Date</code> or <code>POSIXct</code>,
which Tibbles print as &lt;date&gt; and &lt;dttm&gt;,
respectively).</li>
<li>temperature: a vector of associated temperature measurement
(<strong>in centigrade</strong>).</li>
</ol>
<p>Additional columns are allowed, but these are required.</p>
<p>We expect your data to look something like this:</p>
<table class="table">
<thead><tr class="header">
<th>date</th>
<th>temperature</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2000-01-01</td>
<td>2.51</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>2000-07-01</td>
<td>16.32</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
</tr>
<tr class="odd">
<td>2000-12-31</td>
<td>3.13</td>
</tr>
</tbody>
</table>
<p><strong>hatchR</strong> assumes you’ve checked for missing records or
errors in your data because <strong><em>it can</em></strong> work with
gaps, so it’s important to go through the data checks discussed below,
as well as your own validity checks.</p>
<p><strong>hatchR</strong> can use values down to freezing
(<em>e.g.</em>, 0 °C), which returns extremely small effective values,
and time to hatch or emerge may be &gt; 1 year. In these cases, we
suggest users consider how much of that data type is reasonable with
their data. To learn more about this, see the section on <a href="https://bmait101.github.io/hatchR/articles/Predict_phenology_basic.html#negtemps">negative
temperatures</a> in the <a href="https://bmait101.github.io/hatchR/articles/Predict_phenology_basic.html">Predict
fish phenology: Basic</a> vignette.</p>
<div class="section level5">
<h5 id="date-times">Dates and Times<a class="anchor" aria-label="anchor" href="#date-times"></a>
</h5>
<p>Numeric temperature values are simple to work with in R, but dates
and time can be tricky. Here we provide a brief overview of how to work
with dates and times in R, but refer the user to <a href="https://r4ds.hadley.nz/datetimes.html" class="external-link">Chapter 17</a> in R for
Data Science <span class="citation">(Wickham, Çetinkaya-Rundel, and
Grolemund 2023)</span> for a more in-depth discussion.</p>
<p>The <a href="https://lubridate.tidyverse.org/" class="external-link"><strong>lubridate</strong></a>
package makes it easier to work with dates and times in R. It comes
installed with <strong>hatchR</strong>, and can be loaded with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span></code></pre></div>
<p>There are three types of date/time data that refer to an instant in
time:</p>
<ul>
<li>A <strong>date</strong>, which Tibbles print as &lt;date&gt;</li>
<li>A <strong>time</strong> within a day, which Tibbles print as
&lt;time&gt;</li>
<li>A <strong>date-time</strong> is a date plus time, which Tibbles
print as &lt;dttm&gt;. Base R calls these <code>POSIXct</code>, but
that’s not a helpful name.</li>
</ul>
<p>You can use <code><a href="https://lubridate.tidyverse.org/reference/now.html" class="external-link">lubridate::today()</a></code> or
<code><a href="https://lubridate.tidyverse.org/reference/now.html" class="external-link">lubridate::now()</a></code> to get the current date or date-time:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/now.html" class="external-link">today</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2025-07-28"</span></span>
<span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/now.html" class="external-link">now</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2025-07-28 20:01:03 UTC"</span></span></code></pre></div>
<p>In the context of <strong>hatchR</strong>, the ways you are likely to
create a date/time are:</p>
<ol style="list-style-type: decimal">
<li>reading a file into R with <code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">readr::read_csv()</a></code>
</li>
<li>from a string (e.g., if data was read into R with
<code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code>)</li>
<li>from individual components (year, month, day, hour, minute,
second)</li>
</ol>
</div>
<div class="section level5">
<h5 id="reading-in-dates-from-a-file">Reading in dates from a file<a class="anchor" aria-label="anchor" href="#reading-in-dates-from-a-file"></a>
</h5>
<p>When reading in a CSV file with <code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">readr::read_csv()</a></code>,
<code>readr</code> (which also comes installed with
<strong>hatchR</strong>) will automatically parse (recognize) dates and
date-times if they are in the form “YYYY-MM-DD” or “YYYY-MM-DD
HH:MM:SS”. These are ISO8601 date (&lt;date&gt;) and date-time
(&lt;dttm&gt;) formats, respectively. ISO8601 is an international
standard for writing dates where the components of a date are organized
from biggest to smallest separated by -. Below, we first load the
<code>readr</code> package and then read in a CSV file with dates in the
form “YYYY-MM-DD” and “YYYY-MM-DD HH:MM:SS”:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">csv</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">  date,datetime</span></span>
<span><span class="st">  2022-01-02,2022-01-02 05:12</span></span>
<span><span class="st">"</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="va">csv</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   date       datetime           </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2022-01-02 2022-01-02 <span style="color: #949494;">05:12:00</span></span></span></code></pre></div>
<p>If your dates are in a different format, you’ll need to use
<code>col_types</code> plus <code><a href="https://readr.tidyverse.org/reference/parse_datetime.html" class="external-link">col_date()</a></code> or
<code><a href="https://readr.tidyverse.org/reference/parse_datetime.html" class="external-link">col_datetime()</a></code> along with a standard date-time format (see
<a href="https://r4ds.hadley.nz/datetimes.html#tbl-date-formats" class="external-link">Table
17.1</a> in R for Data Science <span class="citation">(Wickham,
Çetinkaya-Rundel, and Grolemund 2023)</span> for a list of all date
format options).</p>
</div>
<div class="section level5">
<h5 id="from-strings">From strings<a class="anchor" aria-label="anchor" href="#from-strings"></a>
</h5>
<p>If you read in a CSV file using <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code> from base R,
date columns will be formatted as a characters (&lt;char&gt;; e.g.,
<code>"2000-09-01"</code> or <code>"2000-09-01 12:00:00"</code>). You
will have convert to this column to a &lt;date&gt; or &lt;dttm&gt;.
<strong>lubridate</strong> helper functions attempt to automatically
determine the format once you specify the order of the component. To use
them, identify the order in which year, month, and day appear in your
dates, then arrange “y”, “m”, and “d” in the same order. That gives you
the name of the <strong>lubridate</strong> function that will parse your
date. For date-time, add an underscore and one or more of “h”, “m”, and
“s” to the name of the parsing function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2017-01-31"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2017-01-31"</span></span>
<span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">mdy</a></span><span class="op">(</span><span class="st">"January 31st, 2017"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2017-01-31"</span></span>
<span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">mdy_hm</a></span><span class="op">(</span><span class="st">"01/31/2017 08:01"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2017-01-31 08:01:00 UTC"</span></span>
<span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_hms</a></span><span class="op">(</span><span class="st">"2017-01-31 20:11:59"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2017-01-31 20:11:59 UTC"</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="from-individual-components">From individual components<a class="anchor" aria-label="anchor" href="#from-individual-components"></a>
</h5>
<p>Sometimes you have the components of a date in separate columns. You
can use <code><a href="https://lubridate.tidyverse.org/reference/make_datetime.html" class="external-link">make_date()</a></code> or <code><a href="https://lubridate.tidyverse.org/reference/make_datetime.html" class="external-link">make_datetime()</a></code> to
combine them into a date or date-time.</p>
<p>To show this, we’ll use the <code>flights</code> dataset that comes
with <strong>nycflights13</strong>, which is only installed alongside
<strong>hatchR</strong> when <code>dependencies = TRUE</code> in
<code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code>. We also make use of helper functions
from <strong>dplyr</strong> to <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code> and
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> columns.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/nycflights13" class="external-link">nycflights13</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flights</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">month</span>, <span class="va">day</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/make_datetime.html" class="external-link">make_date</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">month</span>, <span class="va">day</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 336,776 × 4</span></span></span>
<span><span class="co">#&gt;    year month   day date      </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>013     1     1 2013-01-01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>013     1     1 2013-01-01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>013     1     1 2013-01-01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>013     1     1 2013-01-01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>013     1     1 2013-01-01</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 336,771 more rows</span></span></span>
<span></span>
<span><span class="va">flights</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">month</span>, <span class="va">day</span>, <span class="va">hour</span>, <span class="va">minute</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>departure <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/make_datetime.html" class="external-link">make_datetime</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">month</span>, <span class="va">day</span>, <span class="va">hour</span>, <span class="va">minute</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 336,776 × 6</span></span></span>
<span><span class="co">#&gt;    year month   day  hour minute departure          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>013     1     1     5     15 2013-01-01 <span style="color: #949494;">05:15:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>013     1     1     5     29 2013-01-01 <span style="color: #949494;">05:29:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>013     1     1     5     40 2013-01-01 <span style="color: #949494;">05:40:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>013     1     1     5     45 2013-01-01 <span style="color: #949494;">05:45:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>013     1     1     6      0 2013-01-01 <span style="color: #949494;">06:00:00</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 336,771 more rows</span></span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="time-zones">Time Zones<a class="anchor" aria-label="anchor" href="#time-zones"></a>
</h5>
<p>Time zones are a complex topic, but we don’t need to delve too deep
for our purposes. We will cover a few basic topics. For more
information, see <a href="https://r4ds.hadley.nz/datetimes.html" class="external-link">Chapter
17</a> in R for Data Science <span class="citation">(Wickham,
Çetinkaya-Rundel, and Grolemund 2023)</span>.</p>
<p>R uses the international standard IANA time zones. These use a
consistent naming scheme {area}/{location}, typically in the form
{continent}/{city} or {ocean}/{city}. Examples include
“America/New_York”, “Europe/Paris”, and “Pacific/Auckland”.</p>
<p>You can find out what R thinks your current time zone is with
<code><a href="https://rdrr.io/r/base/timezones.html" class="external-link">Sys.timezone()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/timezones.html" class="external-link">Sys.timezone</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "UTC"</span></span></code></pre></div>
<p>(If R doesn’t know, you’ll get an NA.)</p>
<p>In R, the time zone is an attribute of the date-time that only
controls printing. For example, these three objects represent the same
instant in time:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_hms</a></span><span class="op">(</span><span class="st">"2024-06-01 12:00:00"</span>, tz <span class="op">=</span> <span class="st">"America/New_York"</span><span class="op">)</span></span>
<span><span class="va">x1</span></span>
<span><span class="co">#&gt; [1] "2024-06-01 12:00:00 EDT"</span></span></code></pre></div>
<p>Unless otherwise specified, lubridate always uses UTC. UTC
(Coordinated Universal Time) is the standard time zone used by the
scientific community and is roughly equivalent to GMT (Greenwich Mean
Time). It does not have DST, which makes a convenient representation for
computation. Thus <code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv()</a></code> converts to UTC, so if times
are shifted, then daily summaries can be incorrect. This only matters if
data are not daily yet, <code>as.posixct()</code> sets to local
time.</p>
<p>You can change the time zone in two ways:</p>
<ol style="list-style-type: decimal">
<li>Change the time zone attribute with <code><a href="https://lubridate.tidyverse.org/reference/force_tz.html" class="external-link">force_tz()</a></code>
</li>
<li>Change the time zone for printing with <code><a href="https://lubridate.tidyverse.org/reference/with_tz.html" class="external-link">with_tz()</a></code>
</li>
</ol>
</div>
</div>
<div class="section level3">
<h3 id="data-in">Importing water temperature data<a class="anchor" aria-label="anchor" href="#data-in"></a>
</h3>
<div class="section level4">
<h4 id="using-readrread_csv">Using <code>readr::read_csv()</code><a class="anchor" aria-label="anchor" href="#using-readrread_csv"></a>
</h4>
<p>We recommend loading your data into R using
<code><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">readr::read_csv()</a></code>. We can load readr using:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span></code></pre></div>
<p>In this and other vignettes, we will use two datasets that come
installed with the package: <code>crooked_river</code> and
<code>woody_island</code>. Each dataset is available to the user as R
objects once <strong>hatchR</strong> is installed and attached (see
<code><a href="../reference/crooked_river.html">?crooked_river</a></code> or <code><a href="../reference/woody_island.html">?woody_island</a></code> for more
information). The raw example data (.csv files) are stored in the
<code>extdata/</code> directory installed alongside
<strong>hatchR</strong>. We may store the file paths to example
data:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">path_cr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/crooked_river.csv"</span>, package <span class="op">=</span> <span class="st">"hatchR"</span><span class="op">)</span></span>
<span><span class="va">path_wi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/woody_island.csv"</span>, package <span class="op">=</span> <span class="st">"hatchR"</span><span class="op">)</span></span></code></pre></div>
<p>After specifying <code>path_*</code> (using
<code><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file()</a></code>), we load the example dataset into R:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">crooked_river</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="va">path_cr</span><span class="op">)</span></span>
<span><span class="va">woody_island</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="va">path_wi</span><span class="op">)</span></span></code></pre></div>
<p>We check the <code>crooked_river</code> dataset by running either
<code><a href="https://rdrr.io/r/utils/str.html" class="external-link">str()</a></code> or <code><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">tibble::glimpse()</a></code> to see the
structure of the data. <code><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse()</a></code> is a little like
<code><a href="https://rdrr.io/r/utils/str.html" class="external-link">str()</a></code> applied to a data frame, but it tries to show you as
much data as possible. We prefer <code><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">tibble::glimpse()</a></code> because
it is more compact and easier to read. <strong>tibble</strong> also
comes installed with <strong>hatchR</strong>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span></code></pre></div>
<p>Now we can check the structure of the <code>crooked_river</code>
dataset:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">crooked_river</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1,826</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ date   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2010-12-01<span style="color: #949494;">, </span>2010-12-02<span style="color: #949494;">, </span>2010-12-03<span style="color: #949494;">, </span>2010-12-04<span style="color: #949494;">, </span>2010-12-05<span style="color: #949494;">, </span>20…</span></span>
<span><span class="co">#&gt; $ temp_c <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.1638020<span style="color: #949494;">, </span>1.3442852<span style="color: #949494;">, </span>1.2533443<span style="color: #949494;">, </span>1.0068728<span style="color: #949494;">, </span>1.2899153<span style="color: #949494;">, </span>1.229158…</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">woody_island</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 735</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ date   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "8/11/1990"<span style="color: #949494;">, </span>"8/12/1990"<span style="color: #949494;">, </span>"8/13/1990"<span style="color: #949494;">, </span>"8/14/1990"<span style="color: #949494;">, </span>"8/15/1990"…</span></span>
<span><span class="co">#&gt; $ temp_c <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 25.850000<span style="color: #949494;">, </span>23.308333<span style="color: #949494;">, </span>18.533333<span style="color: #949494;">, </span>15.350000<span style="color: #949494;">, </span>13.966667<span style="color: #949494;">, </span>11.35833…</span></span></code></pre></div>
<p>For your own data, assuming you have a .csv file in a
<code>data</code> folder in your working directory called
<code>your_data.csv</code>, you would call:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="va">your_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"data/your_data.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">your_data</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="using-read-csv">Using <code>read.csv()</code><a class="anchor" aria-label="anchor" href="#using-read-csv"></a>
</h4>
<p>If you import your data in with functions like
<code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code> or <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table()</a></code>, date columns will
be formatted as a characters (&lt;chr&gt;). You will have convert to
this column to a &lt;date&gt; or &lt;dttm&gt; type, and we recommend you
do this using <strong>lubridate</strong>, which makes dealing with date
a litter easier.</p>
<p>Below is an example of how you might do this. First, we check the
structure of the <code>crooked_river</code> and
<code>woody_island</code> datasets:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">crooked_river</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">path_cr</span><span class="op">)</span></span>
<span><span class="va">woody_island</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">path_wi</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">crooked_river</span><span class="op">)</span> <span class="co"># note date column imported as a character (&lt;chr&gt;)</span></span>
<span><span class="co">#&gt; Rows: 1,826</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ date   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "2010-12-01T00:00:00Z"<span style="color: #949494;">, </span>"2010-12-02T00:00:00Z"<span style="color: #949494;">, </span>"2010-12-03T00:…</span></span>
<span><span class="co">#&gt; $ temp_c <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.1638020<span style="color: #949494;">, </span>1.3442852<span style="color: #949494;">, </span>1.2533443<span style="color: #949494;">, </span>1.0068728<span style="color: #949494;">, </span>1.2899153<span style="color: #949494;">, </span>1.229158…</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">woody_island</span><span class="op">)</span> <span class="co"># note date column imported as a character (&lt;chr&gt;)</span></span>
<span><span class="co">#&gt; Rows: 735</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ date   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "8/11/1990"<span style="color: #949494;">, </span>"8/12/1990"<span style="color: #949494;">, </span>"8/13/1990"<span style="color: #949494;">, </span>"8/14/1990"<span style="color: #949494;">, </span>"8/15/1990"…</span></span>
<span><span class="co">#&gt; $ temp_c <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 25.850000<span style="color: #949494;">, </span>23.308333<span style="color: #949494;">, </span>18.533333<span style="color: #949494;">, </span>15.350000<span style="color: #949494;">, </span>13.966667<span style="color: #949494;">, </span>11.35833…</span></span></code></pre></div>
<p>Then, we convert the date columns using
<strong>lubridate</strong>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># if your date is in the form "2000-09-01 12:00:00"</span></span>
<span><span class="va">crooked_river</span><span class="op">$</span><span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_hms</a></span><span class="op">(</span><span class="va">crooked_river</span><span class="op">$</span><span class="va">date</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># if your date is in the form "2000-09-01"</span></span>
<span><span class="va">woody_island</span><span class="op">$</span><span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">mdy</a></span><span class="op">(</span><span class="va">woody_island</span><span class="op">$</span><span class="va">date</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">crooked_river</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1,826</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ date   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2010-12-01<span style="color: #949494;">, </span>2010-12-02<span style="color: #949494;">, </span>2010-12-03<span style="color: #949494;">, </span>2010-12-04<span style="color: #949494;">, </span>2010-12-05<span style="color: #949494;">, </span>20…</span></span>
<span><span class="co">#&gt; $ temp_c <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.1638020<span style="color: #949494;">, </span>1.3442852<span style="color: #949494;">, </span>1.2533443<span style="color: #949494;">, </span>1.0068728<span style="color: #949494;">, </span>1.2899153<span style="color: #949494;">, </span>1.229158…</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">woody_island</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 735</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ date   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 1990-08-11<span style="color: #949494;">, </span>1990-08-12<span style="color: #949494;">, </span>1990-08-13<span style="color: #949494;">, </span>1990-08-14<span style="color: #949494;">, </span>1990-08-15<span style="color: #949494;">, </span>19…</span></span>
<span><span class="co">#&gt; $ temp_c <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 25.850000<span style="color: #949494;">, </span>23.308333<span style="color: #949494;">, </span>18.533333<span style="color: #949494;">, </span>15.350000<span style="color: #949494;">, </span>13.966667<span style="color: #949494;">, </span>11.35833…</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="data-checks">Temperature data checks<a class="anchor" aria-label="anchor" href="#data-checks"></a>
</h3>
<p>After data are loaded and dates are formatted correctly, we can
complete a series of checks to ensure that the temperature data is in
the correct format and that there are no missing values.</p>
<p><strong>hatchR</strong> provides several helper functions to assist
with this process.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bmait101.github.io/hatchR/">hatchR</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="viz-data">Visualize your temperature data<a class="anchor" aria-label="anchor" href="#viz-data"></a>
</h3>
<p><strong>hatchR</strong> comes with the function
<code><a href="../reference/plot_check_temp.html">plot_check_temp()</a></code> to visualize your imported data and
verify nothing strange happened during your import process. The function
outputs a <strong>ggplot2</strong> object which can be subsequently
modified by the user. The arguments <code>temp_min =</code> and
<code>temp_max =</code> can be used to custom set thresholds for
expected temperature ranges (defaults are set at 0 and 25 °C). Here is
an example using the built-in dataset <code>crooked_river</code>:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_check_temp.html">plot_check_temp</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">crooked_river</span>, </span>
<span>                dates <span class="op">=</span> <span class="va">date</span>, </span>
<span>                temperature <span class="op">=</span> <span class="va">temp_c</span>, </span>
<span>                temp_min <span class="op">=</span> <span class="fl">0</span>, </span>
<span>                temp_max <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-20-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="summarize-data">Summarize temperature data<a class="anchor" aria-label="anchor" href="#summarize-data"></a>
</h3>
<p>If you imported raw data with multiple recordings per day,
<strong>hatchR</strong> has a built in function to summarize those data
to a daily average mean called <code><a href="../reference/summarize_temp.html">summarize_temp()</a></code>. The output
of the function is a tibble with mean daily temperature and its
corresponding.</p>
<p>Below, we simulate a dataset with 30-minute temperature recordings
for a year and summarize the data to daily means.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set seed for reproducibility</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create vector of date-times for a year at 30 minute intervals</span></span>
<span><span class="va">dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_hms</a></span><span class="op">(</span><span class="st">"2000-01-01 00:00:00"</span><span class="op">)</span>,</span>
<span>  to <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_hms</a></span><span class="op">(</span><span class="st">"2000-12-31 23:59:59"</span><span class="op">)</span>, </span>
<span>  by <span class="op">=</span> <span class="st">"30 min"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># simulate temperature data</span></span>
<span><span class="va">fake_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="va">dates</span>,</span>
<span>  temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">dates</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">10</span>, sd <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># check it</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">fake_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 17,568</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ date <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2000-01-01 00:00:00<span style="color: #949494;">, </span>2000-01-01 00:30:00<span style="color: #949494;">, </span>2000-01-01 01:00:00<span style="color: #949494;">, </span>2…</span></span>
<span><span class="co">#&gt; $ temp <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 8.318573<span style="color: #949494;">, </span>9.309468<span style="color: #949494;">, </span>14.676125<span style="color: #949494;">, </span>10.211525<span style="color: #949494;">, </span>10.387863<span style="color: #949494;">, </span>15.145195<span style="color: #949494;">, </span>1…</span></span></code></pre></div>
<p>Now we can summarize the data to daily means using
<code><a href="../reference/summarize_temp.html">summarize_temp()</a></code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fake_data_sum</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summarize_temp.html">summarize_temp</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">fake_data</span>,</span>
<span>                                temperature <span class="op">=</span> <span class="va">temp</span>,</span>
<span>                                dates <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">fake_data</span><span class="op">)</span> <span class="co">#17568 records</span></span>
<span><span class="co">#&gt; [1] 17568</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">fake_data_sum</span><span class="op">)</span> <span class="co">#366 records; 2000 was a leap year :)</span></span>
<span><span class="co">#&gt; [1] 366</span></span></code></pre></div>
<p>We again recommend, at a minimum, visually checking your data once it
has been summarized.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># note we use fake_data_sum instead of fake_data</span></span>
<span><span class="fu"><a href="../reference/plot_check_temp.html">plot_check_temp</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">fake_data_sum</span>, </span>
<span>                dates <span class="op">=</span> <span class="va">date</span>, </span>
<span>                temperature <span class="op">=</span> <span class="va">daily_temp</span>, </span>
<span>                temp_min <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                temp_max <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-23-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="check-continuous">Check for continuous data<a class="anchor" aria-label="anchor" href="#check-continuous"></a>
</h3>
<p>At present, <strong>hatchR</strong> only uses continuous data.
Therefore, your data is expected to be continuous and complete.</p>
<p>You can check whether your data is complete and continuous using the
<code><a href="../reference/check_continuous.html">check_continuous()</a></code> function. This function will return a
message if the data is or is not continuous or complete. Below, the
calls return all clear:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check_continuous.html">check_continuous</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">crooked_river</span>, dates <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> No breaks were found. All clear!</span></span>
<span><span class="fu"><a href="../reference/check_continuous.html">check_continuous</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">woody_island</span>, dates <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> No breaks were found. All clear!</span></span></code></pre></div>
<p>But if you had breaks in your data:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check_continuous.html">check_continuous</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">crooked_river</span><span class="op">[</span><span class="op">-</span><span class="fl">5</span>,<span class="op">]</span>, dates <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: <span style="color: #BBBB00;">!</span> Data not continuous</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Breaks found at rows:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> 5</span></span></code></pre></div>
<p>You’ll get a note providing the row index where breaks are found for
inspection.</p>
<p>If you have days of missing data, you could impute them using rolling
means or other approaches.</p>
</div>
<div class="section level3">
<h3 id="species-params">Species-specific model parameters<a class="anchor" aria-label="anchor" href="#species-params"></a>
</h3>
<p><strong>hatchR</strong> has two options for selecting parameterized
models for predicting fish early life history phenology using:</p>
<ol style="list-style-type: decimal">
<li>model parameterizations included in the package</li>
<li>custom parameterizations using your own data</li>
</ol>
<p>This processes is described in the vignette <a href="https://bmait101.github.io/hatchR/articles/Parameterize_models.html">Parameterize
hatchR models</a></p>
</div>
<div class="section level3">
<h3 id="spawn-dates">Spawn Dates<a class="anchor" aria-label="anchor" href="#spawn-dates"></a>
</h3>
<p>A date or range of dates for spawning the species of interest is
required to predict phenology. This information can be provided in the
form of a single date or a range of dates. More information on how to
provide this information is available in the vignette <a href="https://bmait101.github.io/hatchR/articles/Predict_phenology_basic.html">Predict
phenology: basic</a>, as well as subsequent vignettes.</p>
</div>
</div>
<div class="section level2">
<h2 id="next-steps">Next steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<p>After importing, wrangling, and checking your temperature data, there
are a number of different actions you can take. These steps are laid out
in subsequent vignettes:</p>
<ul>
<li><a href="https://bmait101.github.io/hatchR/articles/Parameterize_models.html">Parameterize
hatchR models</a></li>
<li><a href="https://bmait101.github.io/hatchR/articles/Predict_phenology_basic.html">Predict
phenology: basic</a></li>
<li><a href="https://bmait101.github.io/hatchR/articles/Predict_phenology_advanced.html">Predict
phenology: advanced</a></li>
<li><a href="https://bmait101.github.io/hatchR/articles/Predict_phenology_nested.html">Predict
phenology: nested</a></li>
<li>
<a href="https://bmait101.github.io/hatchR/articles/Advanced_plotting.html">Advanced
plotting</a>.</li>
</ul>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-beacham1990" class="csl-entry">
Beacham, Terry D., and Clyde B. Murray. 1990. <span>“Temperature, Egg
Size, and Development of Embryos and Alevins of Five Species of Pacific
Salmon: A Comparative Analysis.”</span> <em>Transactions of the American
Fisheries Society</em> 119 (6): 927–45. <a href="https://doi.org/10.1577/1548-8659(1990)119&lt;0927:TESADO&gt;2.3.CO;2" class="external-link">https://doi.org/10.1577/1548-8659(1990)119&lt;0927:TESADO&gt;2.3.CO;2</a>.
</div>
<div id="ref-siegel2023" class="csl-entry">
Siegel, Jared E., Aimee H. Fullerton, Alyssa M. FitzGerald, Damon
Holzer, and Chris E. Jordan. 2023. <span>“Daily Stream Temperature
Predictions for Free-Flowing Streams in the Pacific Northwest,
USA.”</span> <em>PLOS Water</em> 2 (8): e0000119. <a href="https://doi.org/10.1371/journal.pwat.0000119" class="external-link">https://doi.org/10.1371/journal.pwat.0000119</a>.
</div>
<div id="ref-sparks2019" class="csl-entry">
Sparks, Morgan M., Jeffrey A. Falke, Thomas P. Quinn, Milo D. Adkison,
Daniel E. Schindler, Krista Bartz, Dan Young, and Peter A. H. Westley.
2019. <span>“Influences of Spawning Timing, Water Temperature, and
Climatic Warming on Early Life History Phenology in Western Alaska
Sockeye Salmon.”</span> <em>Canadian Journal of Fisheries and Aquatic
Sciences</em> 76 (1): 123–35. <a href="https://doi.org/10.1139/cjfas-2017-0468" class="external-link">https://doi.org/10.1139/cjfas-2017-0468</a>.
</div>
<div id="ref-wickham2023" class="csl-entry">
Wickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023.
<em>R for <span>Data</span> <span>Science</span></em>. "O’Reilly Media,
Inc.".
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bryan M. Maitland, Morgan M. Sparks.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
